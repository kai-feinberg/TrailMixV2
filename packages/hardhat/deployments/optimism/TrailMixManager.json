{
  "address": "0xcF572dCCF82dF712D18a6bbFBdCbc54a34BB0a92",
  "abi": [
    {
      "inputs": [],
      "name": "NotContractOwner",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "contractAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "ContractDeployed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "FundsDeposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "FundsWithdrawn",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountIn",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountOut",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "tokenIn",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "tokenOut",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "SwapExecuted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "oldThreshold",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newThreshold",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "ThresholdUpdated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "activeStrategies",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "name": "checkUpkeep",
      "outputs": [
        {
          "internalType": "bool",
          "name": "upkeepNeeded",
          "type": "bool"
        },
        {
          "internalType": "bytes",
          "name": "performData",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_erc20Token",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_stablecoin",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_uniswapRouter",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_uniswapPool",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_uniswapOracle",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_trailAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_granularity",
          "type": "uint256"
        },
        {
          "internalType": "uint24",
          "name": "_poolFee",
          "type": "uint24"
        }
      ],
      "name": "deployTrailMix",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_strategy",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_tslThreshold",
          "type": "uint256"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserContracts",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "isActiveStrategy",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "performData",
          "type": "bytes"
        }
      ],
      "name": "performUpkeep",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "userContracts",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_strategy",
          "type": "address"
        }
      ],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x61ed6f657d80002933d70e7e68a7779f014b3c38b95f81afdfd4cee2342ed850",
  "receipt": {
    "to": null,
    "from": "0x2cb509BE01144aF14FCF944957c401C14c6dF722",
    "contractAddress": "0xcF572dCCF82dF712D18a6bbFBdCbc54a34BB0a92",
    "transactionIndex": 20,
    "gasUsed": "2152487",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x4d283007d0b0f10297d2a121f17669343ccb3ededf815c9d19d4994e42006a2b",
    "transactionHash": "0x61ed6f657d80002933d70e7e68a7779f014b3c38b95f81afdfd4cee2342ed850",
    "logs": [],
    "blockNumber": 118796976,
    "cumulativeGasUsed": "5630177",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 3,
  "solcInputHash": "0ff3192b189d79939bb17a438ae0272b",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"NotContractOwner\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"creator\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"contractAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"ContractDeployed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"creator\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"strategy\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"FundsDeposited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"creator\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"strategy\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"FundsWithdrawn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"strategy\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"creator\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountOut\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"SwapExecuted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"strategy\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldThreshold\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newThreshold\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"ThresholdUpdated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"activeStrategies\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"name\":\"checkUpkeep\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"upkeepNeeded\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"performData\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_erc20Token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_stablecoin\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_uniswapRouter\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_uniswapPool\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_uniswapOracle\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_trailAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_granularity\",\"type\":\"uint256\"},{\"internalType\":\"uint24\",\"name\":\"_poolFee\",\"type\":\"uint24\"}],\"name\":\"deployTrailMix\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_strategy\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_tslThreshold\",\"type\":\"uint256\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getUserContracts\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isActiveStrategy\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"performData\",\"type\":\"bytes\"}],\"name\":\"performUpkeep\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userContracts\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_strategy\",\"type\":\"address\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"checkUpkeep(bytes)\":{\"details\":\"Part of the Chainlink automation interface.\",\"params\":{\"\":\"'checkData' Not used in this implementation.\"},\"returns\":{\"performData\":\"Encoded data on what action to perform during upkeep.\",\"upkeepNeeded\":\"Boolean flag indicating if upkeep is needed.\"}},\"performUpkeep(bytes)\":{\"details\":\"Part of the Chainlink automation interface.\",\"params\":{\"performData\":\"Encoded data indicating the actions to perform.\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"checkUpkeep(bytes)\":{\"notice\":\"Checks if upkeep is needed based on TSL conditions.COMPUTED OFF-CHAIN\"},\"performUpkeep(bytes)\":{\"notice\":\"Performs the upkeep of updating the stop loss threshold or triggering a sell.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/TrailMixManager.sol\":\"TrailMixManager\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@chainlink/contracts/src/v0.8/automation/interfaces/AutomationCompatibleInterface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface AutomationCompatibleInterface {\\n  /**\\n   * @notice method that is simulated by the keepers to see if any work actually\\n   * needs to be performed. This method does does not actually need to be\\n   * executable, and since it is only ever simulated it can consume lots of gas.\\n   * @dev To ensure that it is never called, you may want to add the\\n   * cannotExecute modifier from KeeperBase to your implementation of this\\n   * method.\\n   * @param checkData specified in the upkeep registration so it is always the\\n   * same for a registered upkeep. This can easily be broken down into specific\\n   * arguments using `abi.decode`, so multiple upkeeps can be registered on the\\n   * same contract and easily differentiated by the contract.\\n   * @return upkeepNeeded boolean to indicate whether the keeper should call\\n   * performUpkeep or not.\\n   * @return performData bytes that the keeper should call performUpkeep with, if\\n   * upkeep is needed. If you would like to encode data to decode later, try\\n   * `abi.encode`.\\n   */\\n  function checkUpkeep(bytes calldata checkData) external returns (bool upkeepNeeded, bytes memory performData);\\n\\n  /**\\n   * @notice method that is actually executed by the keepers, via the registry.\\n   * The data returned by the checkUpkeep simulation will be passed into\\n   * this method to actually be executed.\\n   * @dev The input to this method should not be trusted, and the caller of the\\n   * method should not even be restricted to any single registry. Anyone should\\n   * be able call it, and the input should be validated, there is no guarantee\\n   * that the data passed in is the performData returned from checkUpkeep. This\\n   * could happen due to malicious keepers, racing keepers, or simply a state\\n   * change while the performUpkeep transaction is waiting for confirmation.\\n   * Always validate the data passed in.\\n   * @param performData is the data which was passed back from the checkData\\n   * simulation. If it is encoded, it can easily be decoded into other types by\\n   * calling `abi.decode`. This data should not be trusted, and should be\\n   * validated against the contract's current state.\\n   */\\n  function performUpkeep(bytes calldata performData) external;\\n}\\n\",\"keccak256\":\"0x67076747c6f66d8d43472a56e72879c350056bff82e069addaf9064922863340\",\"license\":\"MIT\"},\"@openzeppelin/contracts/security/ReentrancyGuard.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.8.0) (security/ReentrancyGuard.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Contract module that helps prevent reentrant calls to a function.\\n *\\n * Inheriting from `ReentrancyGuard` will make the {nonReentrant} modifier\\n * available, which can be applied to functions to make sure there are no nested\\n * (reentrant) calls to them.\\n *\\n * Note that because there is a single `nonReentrant` guard, functions marked as\\n * `nonReentrant` may not call one another. This can be worked around by making\\n * those functions `private`, and then adding `external` `nonReentrant` entry\\n * points to them.\\n *\\n * TIP: If you would like to learn more about reentrancy and alternative ways\\n * to protect against it, check out our blog post\\n * https://blog.openzeppelin.com/reentrancy-after-istanbul/[Reentrancy After Istanbul].\\n */\\nabstract contract ReentrancyGuard {\\n    // Booleans are more expensive than uint256 or any type that takes up a full\\n    // word because each write operation emits an extra SLOAD to first read the\\n    // slot's contents, replace the bits taken up by the boolean, and then write\\n    // back. This is the compiler's defense against contract upgrades and\\n    // pointer aliasing, and it cannot be disabled.\\n\\n    // The values being non-zero value makes deployment a bit more expensive,\\n    // but in exchange the refund on every call to nonReentrant will be lower in\\n    // amount. Since refunds are capped to a percentage of the total\\n    // transaction's gas, it is best to keep them low in cases like this one, to\\n    // increase the likelihood of the full refund coming into effect.\\n    uint256 private constant _NOT_ENTERED = 1;\\n    uint256 private constant _ENTERED = 2;\\n\\n    uint256 private _status;\\n\\n    constructor() {\\n        _status = _NOT_ENTERED;\\n    }\\n\\n    /**\\n     * @dev Prevents a contract from calling itself, directly or indirectly.\\n     * Calling a `nonReentrant` function from another `nonReentrant`\\n     * function is not supported. It is possible to prevent this from happening\\n     * by making the `nonReentrant` function external, and making it call a\\n     * `private` function that does the actual work.\\n     */\\n    modifier nonReentrant() {\\n        _nonReentrantBefore();\\n        _;\\n        _nonReentrantAfter();\\n    }\\n\\n    function _nonReentrantBefore() private {\\n        // On the first call to nonReentrant, _status will be _NOT_ENTERED\\n        require(_status != _ENTERED, \\\"ReentrancyGuard: reentrant call\\\");\\n\\n        // Any calls to nonReentrant after this point will fail\\n        _status = _ENTERED;\\n    }\\n\\n    function _nonReentrantAfter() private {\\n        // By storing the original value once again, a refund is triggered (see\\n        // https://eips.ethereum.org/EIPS/eip-2200)\\n        _status = _NOT_ENTERED;\\n    }\\n}\\n\",\"keccak256\":\"0x190dd6f8d592b7e4e930feb7f4313aeb8e1c4ad3154c27ce1cf6a512fc30d8cc\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.6.0) (token/ERC20/IERC20.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `to`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address to, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `from` to `to` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(\\n        address from,\\n        address to,\\n        uint256 amount\\n    ) external returns (bool);\\n}\\n\",\"keccak256\":\"0x9750c6b834f7b43000631af5cc30001c5f547b3ceb3635488f140f60e897ea6b\",\"license\":\"MIT\"},\"@uniswap/v3-core/contracts/interfaces/callback/IUniswapV3SwapCallback.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-2.0-or-later\\npragma solidity >=0.5.0;\\n\\n/// @title Callback for IUniswapV3PoolActions#swap\\n/// @notice Any contract that calls IUniswapV3PoolActions#swap must implement this interface\\ninterface IUniswapV3SwapCallback {\\n    /// @notice Called to `msg.sender` after executing a swap via IUniswapV3Pool#swap.\\n    /// @dev In the implementation you must pay the pool tokens owed for the swap.\\n    /// The caller of this method must be checked to be a UniswapV3Pool deployed by the canonical UniswapV3Factory.\\n    /// amount0Delta and amount1Delta can both be 0 if no tokens were swapped.\\n    /// @param amount0Delta The amount of token0 that was sent (negative) or must be received (positive) by the pool by\\n    /// the end of the swap. If positive, the callback must send that amount of token0 to the pool.\\n    /// @param amount1Delta The amount of token1 that was sent (negative) or must be received (positive) by the pool by\\n    /// the end of the swap. If positive, the callback must send that amount of token1 to the pool.\\n    /// @param data Any data passed through by the caller via the IUniswapV3PoolActions#swap call\\n    function uniswapV3SwapCallback(\\n        int256 amount0Delta,\\n        int256 amount1Delta,\\n        bytes calldata data\\n    ) external;\\n}\\n\",\"keccak256\":\"0x3f485fb1a44e8fbeadefb5da07d66edab3cfe809f0ac4074b1e54e3eb3c4cf69\",\"license\":\"GPL-2.0-or-later\"},\"@uniswap/v3-periphery/contracts/interfaces/ISwapRouter.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-2.0-or-later\\npragma solidity >=0.7.5;\\npragma abicoder v2;\\n\\nimport '@uniswap/v3-core/contracts/interfaces/callback/IUniswapV3SwapCallback.sol';\\n\\n/// @title Router token swapping functionality\\n/// @notice Functions for swapping tokens via Uniswap V3\\ninterface ISwapRouter is IUniswapV3SwapCallback {\\n    struct ExactInputSingleParams {\\n        address tokenIn;\\n        address tokenOut;\\n        uint24 fee;\\n        address recipient;\\n        uint256 deadline;\\n        uint256 amountIn;\\n        uint256 amountOutMinimum;\\n        uint160 sqrtPriceLimitX96;\\n    }\\n\\n    /// @notice Swaps `amountIn` of one token for as much as possible of another token\\n    /// @param params The parameters necessary for the swap, encoded as `ExactInputSingleParams` in calldata\\n    /// @return amountOut The amount of the received token\\n    function exactInputSingle(ExactInputSingleParams calldata params) external payable returns (uint256 amountOut);\\n\\n    struct ExactInputParams {\\n        bytes path;\\n        address recipient;\\n        uint256 deadline;\\n        uint256 amountIn;\\n        uint256 amountOutMinimum;\\n    }\\n\\n    /// @notice Swaps `amountIn` of one token for as much as possible of another along the specified path\\n    /// @param params The parameters necessary for the multi-hop swap, encoded as `ExactInputParams` in calldata\\n    /// @return amountOut The amount of the received token\\n    function exactInput(ExactInputParams calldata params) external payable returns (uint256 amountOut);\\n\\n    struct ExactOutputSingleParams {\\n        address tokenIn;\\n        address tokenOut;\\n        uint24 fee;\\n        address recipient;\\n        uint256 deadline;\\n        uint256 amountOut;\\n        uint256 amountInMaximum;\\n        uint160 sqrtPriceLimitX96;\\n    }\\n\\n    /// @notice Swaps as little as possible of one token for `amountOut` of another token\\n    /// @param params The parameters necessary for the swap, encoded as `ExactOutputSingleParams` in calldata\\n    /// @return amountIn The amount of the input token\\n    function exactOutputSingle(ExactOutputSingleParams calldata params) external payable returns (uint256 amountIn);\\n\\n    struct ExactOutputParams {\\n        bytes path;\\n        address recipient;\\n        uint256 deadline;\\n        uint256 amountOut;\\n        uint256 amountInMaximum;\\n    }\\n\\n    /// @notice Swaps as little as possible of one token for `amountOut` of another along the specified path (reversed)\\n    /// @param params The parameters necessary for the multi-hop swap, encoded as `ExactOutputParams` in calldata\\n    /// @return amountIn The amount of the input token\\n    function exactOutput(ExactOutputParams calldata params) external payable returns (uint256 amountIn);\\n}\\n\",\"keccak256\":\"0x9bfaf1feb32814623e627ab70f2409760b15d95f1f9b058e2b3399a8bb732975\",\"license\":\"GPL-2.0-or-later\"},\"@uniswap/v3-periphery/contracts/libraries/TransferHelper.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-2.0-or-later\\npragma solidity >=0.6.0;\\n\\nimport '@openzeppelin/contracts/token/ERC20/IERC20.sol';\\n\\nlibrary TransferHelper {\\n    /// @notice Transfers tokens from the targeted address to the given destination\\n    /// @notice Errors with 'STF' if transfer fails\\n    /// @param token The contract address of the token to be transferred\\n    /// @param from The originating address from which the tokens will be transferred\\n    /// @param to The destination address of the transfer\\n    /// @param value The amount to be transferred\\n    function safeTransferFrom(\\n        address token,\\n        address from,\\n        address to,\\n        uint256 value\\n    ) internal {\\n        (bool success, bytes memory data) =\\n            token.call(abi.encodeWithSelector(IERC20.transferFrom.selector, from, to, value));\\n        require(success && (data.length == 0 || abi.decode(data, (bool))), 'STF');\\n    }\\n\\n    /// @notice Transfers tokens from msg.sender to a recipient\\n    /// @dev Errors with ST if transfer fails\\n    /// @param token The contract address of the token which will be transferred\\n    /// @param to The recipient of the transfer\\n    /// @param value The value of the transfer\\n    function safeTransfer(\\n        address token,\\n        address to,\\n        uint256 value\\n    ) internal {\\n        (bool success, bytes memory data) = token.call(abi.encodeWithSelector(IERC20.transfer.selector, to, value));\\n        require(success && (data.length == 0 || abi.decode(data, (bool))), 'ST');\\n    }\\n\\n    /// @notice Approves the stipulated contract to spend the given allowance in the given token\\n    /// @dev Errors with 'SA' if transfer fails\\n    /// @param token The contract address of the token to be approved\\n    /// @param to The target of the approval\\n    /// @param value The amount of the given token the target will be allowed to spend\\n    function safeApprove(\\n        address token,\\n        address to,\\n        uint256 value\\n    ) internal {\\n        (bool success, bytes memory data) = token.call(abi.encodeWithSelector(IERC20.approve.selector, to, value));\\n        require(success && (data.length == 0 || abi.decode(data, (bool))), 'SA');\\n    }\\n\\n    /// @notice Transfers ETH to the recipient address\\n    /// @dev Fails with `STE`\\n    /// @param to The destination of the transfer\\n    /// @param value The value to be transferred\\n    function safeTransferETH(address to, uint256 value) internal {\\n        (bool success, ) = to.call{value: value}(new bytes(0));\\n        require(success, 'STE');\\n    }\\n}\\n\",\"keccak256\":\"0x9af98b0908c96320ca6d08b22f0efca864742f6adbe5794cafe2d1d2e808b0cd\",\"license\":\"GPL-2.0-or-later\"},\"contracts/ITrailMix.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.20;\\n\\ninterface ITrailMix {\\n\\n\\t// Function signatures\\n\\tfunction deposit(uint256 amount, uint256 tslThreshold) external;\\n\\n\\tfunction withdraw() external;\\n\\n    function checkUpkeepNeeded() external view returns (bool, bool, uint256);\\n\\n\\tfunction updateTSLThreshold(uint256 newThreshold) external;\\n\\n\\tfunction getLatestPrice() external view returns (uint256);\\n\\n\\tfunction swapOnUniswap(uint256 amount) external;\\n\\n\\tfunction getTwapPrice() external view returns (uint256);\\n\\n\\tfunction getExactPrice() external view returns (uint256);\\n\\n\\tfunction activateSlippageProtection() external;\\n\\n\\tfunction getERC20Balance() external view returns (uint256);\\n\\n\\tfunction getStablecoinBalance() external view returns (uint256);\\n\\n\\tfunction getTSLThreshold() external view returns (uint256);\\n\\n\\tfunction isTSLActive() external view returns (bool);\\n\\n\\tfunction getERC20TokenAddress() external view returns (address);\\n\\n\\tfunction getStablecoinAddress() external view returns (address);\\n\\n\\tfunction getUniswapRouterAddress() external view returns (address);\\n\\n\\tfunction getTrailAmount() external view returns (uint256);\\n\\n\\tfunction getManager() external view returns (address);\\n\\n    function getCreator() external view returns (address);\\n\\n\\tfunction getGranularity() external view returns (uint256);\\n\\n\\tfunction getUniswapPool() external view returns (address);\\n}\\n\",\"keccak256\":\"0x1d1e8d5a80bdbb30f47abe087772a4795b1e4a9883b1b0552b30b26902422aff\",\"license\":\"MIT\"},\"contracts/IUniswapOracle.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.20;\\n\\ninterface IUniswapOracle {\\n    function estimateAmountOut(\\n        address pool,\\n        address tokenIn,\\n        uint128 amountIn,\\n        uint32 secondsAgo\\n    ) external view returns (uint amountOut);\\n}\\n\",\"keccak256\":\"0x5d04908dfb1fe0df20dff75a97a2db820541e6c41768ea08baf8f689a63e04c3\",\"license\":\"MIT\"},\"contracts/TrailMix.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.20;\\npragma abicoder v2;\\n\\nimport { AutomationCompatibleInterface } from \\\"@chainlink/contracts/src/v0.8/automation/interfaces/AutomationCompatibleInterface.sol\\\";\\nimport { IERC20 } from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\nimport \\\"@uniswap/v3-periphery/contracts/libraries/TransferHelper.sol\\\";\\nimport { ISwapRouter } from \\\"@uniswap/v3-periphery/contracts/interfaces/ISwapRouter.sol\\\";\\n// import {ReentrancyGuard} from \\\"@openzeppelin/contracts/utils/ReentrancyGuard.sol\\\";\\nimport { ReentrancyGuard } from \\\"@openzeppelin/contracts/security/ReentrancyGuard.sol\\\";\\nimport { IUniswapOracle } from \\\"./IUniswapOracle.sol\\\";\\n\\nerror InvalidAmount(); // Error for when the deposit amount is not positive\\nerror TransferFailed(); // Error for when the token transfer fails\\n\\ncontract TrailMix is ReentrancyGuard {\\n\\taddress private immutable i_manager; //address of the manager contract\\n\\taddress private immutable i_creator; // address of the creator of the contract\\n\\n\\taddress private s_erc20Token;\\n\\taddress private s_stablecoin;\\n\\n\\tISwapRouter private s_uniswapRouter;\\n\\taddress public immutable s_uniswapPool;\\n\\tIUniswapOracle private s_uniswapOracle; // TWAP oracle for Uniswap V3\\n\\n\\tuint256 private immutable s_trailAmount; // Amount to trail by as a %\\n\\tuint256 private s_tslThreshold; // User's TSL threshold\\n\\tuint256 private s_erc20Balance;\\n\\tuint256 private s_stablecoinBalance; // User's ERC20 token balance\\n\\tuint256 private s_granularity; //  % price increase to trigger an update\\n\\tbool private s_isTSLActive; // Indicates if the TSL is currently active\\n\\tbool private slippageProtection; // Indicates if slippage protection is enabled\\n\\tuint24 private s_poolFee; \\n\\n\\t//events are emitted in the manager contract\\n\\n\\tconstructor(\\n\\t\\taddress _manager,\\n\\t\\taddress _creator,\\n\\t\\taddress _erc20Token,\\n\\t\\taddress _stablecoin,\\n\\t\\taddress _uniswapRouter,\\n\\t\\taddress _uniswapPool,\\n\\t\\taddress _uniswapOracle,\\n\\t\\tuint256 _trailAmount,\\n\\t\\tuint256 granularity,\\n\\t\\tuint24 _poolFee\\n\\t) {\\n\\t\\ti_manager = _manager;\\n\\t\\ti_creator = _creator;\\n\\n\\t\\ts_erc20Token = _erc20Token;\\n\\t\\ts_stablecoin = _stablecoin;\\n\\n\\t\\ts_uniswapRouter = ISwapRouter(_uniswapRouter);\\n\\t\\ts_uniswapOracle = IUniswapOracle(_uniswapOracle);\\n\\t\\ts_uniswapPool = _uniswapPool;\\n\\n\\t\\ts_isTSLActive = false;\\n\\t\\ts_trailAmount = _trailAmount;\\n\\t\\tslippageProtection = true;\\n\\t\\ts_granularity = granularity;\\n\\t\\ts_poolFee = _poolFee;\\n\\t}\\n\\n\\tmodifier onlyManager() {\\n\\t\\trequire(msg.sender == i_manager, \\\"only callable by manager contract\\\");\\n\\t\\t_;\\n\\t}\\n\\n\\t/**\\n\\t * @notice Deposits a specified amount of the ERC20 token into the contract.\\n\\t * @param amount The amount of the ERC20 token to deposit.\\n\\t * @param tslThreshold The initial trailing stop loss threshold as a percentage.\\n\\t */\\n\\tfunction deposit(\\n\\t\\tuint256 amount,\\n\\t\\tuint256 tslThreshold\\n\\t) external onlyManager {\\n\\t\\tif (amount <= 0) {\\n\\t\\t\\trevert InvalidAmount();\\n\\t\\t}\\n\\n\\t\\tbool transferSuccess = IERC20(s_erc20Token).transferFrom(\\n\\t\\t\\ti_manager,\\n\\t\\t\\taddress(this),\\n\\t\\t\\tamount\\n\\t\\t);\\n\\t\\tif (!transferSuccess) {\\n\\t\\t\\trevert TransferFailed();\\n\\t\\t}\\n\\n\\t\\ts_erc20Balance += amount;\\n\\n\\t\\tif (!s_isTSLActive) {\\n\\t\\t\\t// If TSL is not active, set the threshold and activate TSL\\n\\t\\t\\ts_tslThreshold = (tslThreshold * (100 - s_trailAmount)) / 100;\\n\\t\\t\\ts_isTSLActive = true;\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * @notice Withdraws the user's funds from the contract.\\n\\t * @dev Allows withdrawal of either ERC20 tokens or stablecoins, based on TSL status.\\n\\t */\\n\\tfunction withdraw() external onlyManager {\\n\\t\\tuint256 withdrawalAmount;\\n\\n\\t\\tif (!s_isTSLActive) {\\n\\t\\t\\t// If TSL is not active, assume user wants to withdraw stablecoins\\n\\t\\t\\t// Logic to handle stablecoin withdrawal\\n\\t\\t\\twithdrawalAmount = s_stablecoinBalance;\\n\\t\\t\\tif (withdrawalAmount <= 0) {\\n\\t\\t\\t\\trevert InvalidAmount();\\n\\t\\t\\t}\\n\\t\\t\\ts_stablecoinBalance = 0;\\n\\t\\t\\tTransferHelper.safeTransfer(\\n\\t\\t\\t\\ts_stablecoin,\\n\\t\\t\\t\\ti_creator, // sends funds to the contract creator\\n\\t\\t\\t\\twithdrawalAmount\\n\\t\\t\\t);\\n\\t\\t} else {\\n\\t\\t\\t// If TSL is active, user withdraws their ERC20 tokens\\n\\t\\t\\twithdrawalAmount = s_erc20Balance;\\n\\t\\t\\tif (withdrawalAmount <= 0) {\\n\\t\\t\\t\\trevert InvalidAmount();\\n\\t\\t\\t}\\n\\t\\t\\ts_erc20Balance = 0;\\n\\t\\t\\tTransferHelper.safeTransfer(\\n\\t\\t\\t\\ts_erc20Token,\\n\\t\\t\\t\\ti_creator,\\n\\t\\t\\t\\twithdrawalAmount\\n\\t\\t\\t);\\n\\t\\t\\ts_isTSLActive = false; // Deactivate TSL when withdrawal is made\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * @notice Checks if upkeep is needed based on TSL conditions.\\n\\t * @dev Part of the Chainlink automation interface.\\n\\t * @return A tuple of three values: a boolean indicating if selling is needed, a boolean indicating if the threshold should be updated, and the new threshold value.\\n\\t */\\n\\tfunction checkUpkeepNeeded() external view returns (bool, bool, uint256) {\\n\\t\\t// Implement logic to check if TSL conditions are met\\n\\t\\tuint256 currentPrice = getTwapPrice();\\n\\t\\tuint256 exactPrice = getExactPrice();\\n\\n\\t\\tbool triggerSell = false;\\n\\t\\tbool updateThreshold = false;\\n\\t\\tuint256 newThreshold = 0;\\n\\n\\t\\t// Calculate 10% price range bounds\\n\\t\\tuint256 lowerBound = (currentPrice * 90) / 100;\\n\\t\\tuint256 upperBound = (currentPrice * 110) / 100;\\n\\t\\t//calculates the old all time high price based on the threshold\\n\\t\\tuint256 oldCurrentPrice = (s_tslThreshold * 100) /\\n\\t\\t\\t(100 - s_trailAmount);\\n\\n\\t\\t//determines the price that is granularity% higher than the old stored price\\n\\t\\tuint256 minPriceForUpdate = (oldCurrentPrice * (100 + s_granularity)) /\\n\\t\\t\\t100;\\n\\t\\t//if new price is less than the current threshold then trigger TSL\\n\\t\\tif (exactPrice >= lowerBound && exactPrice <= upperBound) {\\n\\t\\t\\tif (currentPrice < s_tslThreshold) {\\n\\t\\t\\t\\t//trigger TSL\\n\\t\\t\\t\\ttriggerSell = true;\\n\\t\\t\\t} else if (currentPrice > minPriceForUpdate) {\\n\\t\\t\\t\\tupdateThreshold = true;\\n\\t\\t\\t\\tnewThreshold = (currentPrice * (100 - s_trailAmount)) / 100;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\treturn (triggerSell, updateThreshold, newThreshold);\\n\\t}\\n\\n\\t/**\\n\\t * @notice Updates the trailing stop loss threshold.\\n\\t * @dev This function is private and should be called only by performUpkeep.\\n\\t * @param newThreshold The new threshold value to set.\\n\\t */\\n\\tfunction updateTSLThreshold(uint256 newThreshold) external onlyManager {\\n\\t\\ts_tslThreshold = newThreshold;\\n\\t}\\n\\n\\t/**\\n\\t * @notice Gets the latest price of the ERC20 token in stablecoins.\\n\\t * @dev Uses the Uniswap Oracle to get the latest price using TWAP (time-weighted average price) data for the past 5 minutes\\n\\t * @return The latest price of the ERC20 token in stablecoins.\\n\\t */\\n\\tfunction getTwapPrice() public view returns (uint256) {\\n\\t\\tuint256 amountOut = s_uniswapOracle.estimateAmountOut(\\n\\t\\t\\ts_uniswapPool,\\n\\t\\t\\ts_erc20Token,\\n\\t\\t\\t1e18, // number of decimals for erc20 token\\n\\t\\t\\t300 // 5 minutes of price data (300 seconds)\\n\\t\\t);\\n\\t\\treturn amountOut;\\n\\t}\\n\\n\\tfunction getExactPrice() public view returns (uint256) {\\n\\t\\tuint256 amountOut = s_uniswapOracle.estimateAmountOut(\\n\\t\\t\\ts_uniswapPool,\\n\\t\\t\\ts_erc20Token,\\n\\t\\t\\t1e18, // number of decimals for erc20 token\\n\\t\\t\\t0 // 5 minutes of price data (300 seconds)\\n\\t\\t);\\n\\t\\treturn amountOut;\\n\\t}\\n\\n\\t/**\\n\\t * @notice Swaps the user's ERC20 tokens for stablecoins on Uniswap.\\n\\t * @dev Currently public for testing, but intended to be private in deployment. Non-reentrant.\\n\\t * @param amount The amount of the ERC20 token to swap.\\n\\t */\\n\\tfunction swapOnUniswap(uint256 amount) public nonReentrant {\\n\\t\\t//swap ERC20 tokens for stablecoin on uniswap\\n\\t\\t//need to approve uniswap to spend ERC20 tokens\\n\\n\\t\\t//gets the most up to date price to calculate slippage\\n\\t\\tuint256 currentPrice = getExactPrice();\\n\\t\\tuint256 minAmountOut;\\n\\t\\tif (slippageProtection) {\\n\\t\\t\\tminAmountOut = (amount * currentPrice * 995) / 1000; //99.5% of the current price\\n\\t\\t} else {\\n\\t\\t\\tminAmountOut = 0;\\n\\t\\t}\\n\\n\\t\\tIERC20(s_erc20Token).approve(address(s_uniswapRouter), amount);\\n\\n\\t\\ts_erc20Balance -= amount;\\n\\t\\tISwapRouter.ExactInputSingleParams memory params = ISwapRouter\\n\\t\\t\\t.ExactInputSingleParams({\\n\\t\\t\\t\\ttokenIn: s_erc20Token,\\n\\t\\t\\t\\ttokenOut: s_stablecoin,\\n\\t\\t\\t\\tfee: s_poolFee,\\n\\t\\t\\t\\trecipient: address(this),\\n\\t\\t\\t\\tdeadline: block.timestamp,\\n\\t\\t\\t\\tamountIn: amount,\\n\\t\\t\\t\\tamountOutMinimum: minAmountOut,\\n\\t\\t\\t\\tsqrtPriceLimitX96: 0\\n\\t\\t\\t});\\n\\t\\ts_uniswapRouter.exactInputSingle(params);\\n\\n\\t\\tuint256 amountRecieved = IERC20(s_stablecoin).balanceOf(address(this));\\n\\t\\ts_stablecoinBalance += amountRecieved;\\n\\t}\\n\\n\\t/**\\n\\t * @notice Activates slippage protection for token swaps.\\n\\t * @dev Can only be called by the contract owner.\\n\\t */\\n\\tfunction activateSlippageProtection() public onlyManager {\\n\\t\\tslippageProtection = false;\\n\\t}\\n\\n\\t// View functions for contract interaction and frontend integration\\n\\tfunction getERC20Balance() public view returns (uint256) {\\n\\t\\treturn s_erc20Balance;\\n\\t}\\n\\n\\tfunction getStablecoinBalance() public view returns (uint256) {\\n\\t\\treturn s_stablecoinBalance;\\n\\t}\\n\\n\\tfunction getTSLThreshold() public view returns (uint256) {\\n\\t\\treturn s_tslThreshold;\\n\\t}\\n\\n\\tfunction isTSLActive() public view returns (bool) {\\n\\t\\treturn s_isTSLActive;\\n\\t}\\n\\n\\t// View function to get ERC20 token address\\n\\tfunction getERC20TokenAddress() public view returns (address) {\\n\\t\\treturn s_erc20Token;\\n\\t}\\n\\n\\t// View function to get stablecoin address\\n\\tfunction getStablecoinAddress() public view returns (address) {\\n\\t\\treturn s_stablecoin;\\n\\t}\\n\\n\\t// View function to get Uniswap router address\\n\\tfunction getUniswapRouterAddress() public view returns (address) {\\n\\t\\treturn address(s_uniswapRouter);\\n\\t}\\n\\n\\tfunction getTrailAmount() public view returns (uint256) {\\n\\t\\treturn s_trailAmount;\\n\\t}\\n\\n\\tfunction getManager() public view returns (address) {\\n\\t\\treturn i_manager;\\n\\t}\\n\\n\\tfunction getCreator() public view returns (address) {\\n\\t\\treturn i_creator;\\n\\t}\\n\\n\\tfunction getGranularity() public view returns (uint256) {\\n\\t\\treturn s_granularity;\\n\\t}\\n\\n\\tfunction getUniswapPool() public view returns (address) {\\n\\t\\treturn s_uniswapPool;\\n\\t}\\n}\\n\",\"keccak256\":\"0xbe957e2134d0e6230fe3f94c3c10b7ec509d2f0af90e1b0eebcdbe52d0f1e847\",\"license\":\"MIT\"},\"contracts/TrailMixManager.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.20;\\n\\nimport { AutomationCompatibleInterface } from \\\"@chainlink/contracts/src/v0.8/automation/interfaces/AutomationCompatibleInterface.sol\\\";\\nimport { IERC20 } from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\n// import {ReentrancyGuard} from \\\"@openzeppelin/contracts/utils/ReentrancyGuard.sol\\\";\\nimport { ReentrancyGuard } from \\\"@openzeppelin/contracts/security/ReentrancyGuard.sol\\\";\\n\\nerror NotContractOwner(); // Error for when the caller is not the contract owner\\n\\nimport { TrailMix } from \\\"./TrailMix.sol\\\"; // Import TrailMix contract\\nimport { ITrailMix } from \\\"./ITrailMix.sol\\\"; // Import ITrailMix interface\\n\\ncontract TrailMixManager is AutomationCompatibleInterface, ReentrancyGuard {\\n\\t//array storing all active strategies\\n\\taddress[] public activeStrategies;\\n\\t// mapping to store index of strategy in activeStrategies array\\n\\tmapping(address => uint256) private strategyIndex;\\n\\n\\t//mapping for quick lookup for if a strategy is active\\n\\tmapping(address => bool) public isActiveStrategy;\\n\\n\\t// Mapping from user address to array of deployed TrailMix contract addresses\\n\\tmapping(address => address[]) public userContracts;\\n\\n\\t// Event to emit when a new TrailMix contract is deployed\\n\\tevent ContractDeployed(\\n\\t\\taddress indexed creator,\\n\\t\\taddress contractAddress,\\n\\t\\tuint256 timestamp\\n\\t);\\n\\n\\tevent FundsDeposited(\\n\\t\\taddress indexed creator,\\n\\t\\taddress indexed strategy,\\n\\t\\tuint256 amount,\\n\\t\\taddress token,\\n\\t\\tuint256 timestamp\\n\\t);\\n\\tevent FundsWithdrawn(\\n\\t\\taddress indexed creator,\\n\\t\\taddress indexed strategy,\\n\\t\\tuint256 amount,\\n\\t\\taddress token,\\n\\t\\tuint256 timestamp\\n\\t);\\n\\tevent ThresholdUpdated(\\n\\t\\taddress indexed strategy,\\n\\t\\tuint256 oldThreshold,\\n\\t\\tuint256 newThreshold,\\n\\t\\tuint256 timestamp\\n\\t);\\n\\tevent SwapExecuted(\\n\\t\\taddress indexed strategy,\\n\\t\\taddress indexed creator,\\n\\t\\tuint256 amountIn,\\n\\t\\tuint256 amountOut,\\n\\t\\taddress tokenIn,\\n\\t\\taddress tokenOut,\\n\\t\\tuint256 timestamp\\n\\t);\\n\\n\\t// Function to deploy a new TrailMix contract\\n\\tfunction deployTrailMix(\\n\\t\\taddress _erc20Token,\\n\\t\\taddress _stablecoin,\\n\\t\\taddress _uniswapRouter,\\n\\t\\taddress _uniswapPool,\\n\\t\\taddress _uniswapOracle,\\n\\t\\tuint256 _trailAmount,\\n\\t\\tuint256 _granularity,\\n\\t\\tuint24 _poolFee\\n\\t) public {\\n\\t\\t// Deploy the TrailMix contract\\n\\t\\tTrailMix newTrailMix = new TrailMix(\\n\\t\\t\\taddress(this), // The TrailMixManager contract address\\n\\t\\t\\tmsg.sender, // The user becomes the creator of the TrailMix contract\\n\\t\\t\\t_erc20Token,\\n\\t\\t\\t_stablecoin,\\n\\t\\t\\t_uniswapRouter,\\n\\t\\t\\t_uniswapPool,\\n\\t\\t\\t_uniswapOracle,\\n\\t\\t\\t_trailAmount,\\n\\t\\t\\t_granularity,\\n\\t\\t\\t_poolFee\\n\\t\\t);\\n\\n\\t\\t// Store the contract address in the userContracts mapping\\n\\t\\tuserContracts[msg.sender].push(address(newTrailMix));\\n\\t\\tactiveStrategies.push(address(newTrailMix));\\n\\t\\tisActiveStrategy[address(newTrailMix)] = true;\\n\\t\\tstrategyIndex[address(newTrailMix)] = activeStrategies.length - 1;\\n\\n\\t\\t// Emit an event for the deployment\\n\\t\\temit ContractDeployed(\\n\\t\\t\\tmsg.sender,\\n\\t\\t\\taddress(newTrailMix),\\n\\t\\t\\tblock.timestamp\\n\\t\\t);\\n\\t}\\n\\n\\t// IMPLEMENT DEPOSIT AND WITHDRAW FUNCTIONS\\n\\tfunction deposit(\\n\\t\\taddress _strategy,\\n\\t\\tuint256 _amount,\\n\\t\\tuint256 _tslThreshold\\n\\t) public {\\n\\t\\tif (ITrailMix(_strategy).getCreator() != msg.sender) {\\n\\t\\t\\trevert NotContractOwner();\\n\\t\\t}\\n\\n\\t\\t// Get the ERC20 token address from the TrailMix contract\\n\\t\\taddress erc20TokenAddress = ITrailMix(_strategy).getERC20TokenAddress();\\n\\t\\t//transfer funds from user to the manager contract\\n\\t\\tIERC20(erc20TokenAddress).transferFrom(\\n\\t\\t\\tmsg.sender,\\n\\t\\t\\taddress(this),\\n\\t\\t\\t_amount\\n\\t\\t);\\n\\n\\t\\t// approve strategy to spend the funds and call deposit\\n\\t\\tIERC20(erc20TokenAddress).approve(_strategy, _amount);\\n\\t\\tITrailMix(_strategy).deposit(_amount, _tslThreshold);\\n\\n\\t\\t// Emit an event for the deposit\\n\\t\\temit FundsDeposited(\\n\\t\\t\\tmsg.sender,\\n\\t\\t\\t_strategy,\\n\\t\\t\\t_amount,\\n\\t\\t\\tITrailMix(_strategy).getERC20TokenAddress(),\\n\\t\\t\\tblock.timestamp\\n\\t\\t);\\n\\t}\\n\\n\\tfunction withdraw(address _strategy) public nonReentrant {\\n\\t\\t// Withdraw the user's funds from the TrailMix contract\\n\\t\\tif (ITrailMix(_strategy).getCreator() != msg.sender) {\\n\\t\\t\\trevert NotContractOwner();\\n\\t\\t}\\n\\t\\tITrailMix(_strategy).withdraw();\\n\\t\\tremoveStrategy(_strategy);\\n\\t}\\n\\n\\t// Remove a strategy\\n\\tfunction removeStrategy(address strategy) private {\\n\\t\\trequire(strategy != address(0), \\\"Invalid address\\\");\\n\\t\\trequire(isActiveStrategy[strategy], \\\"Strategy not active\\\");\\n\\n\\t\\tisActiveStrategy[strategy] = false;\\n\\n\\t\\t// Move the last element into the place to delete\\n\\t\\tuint256 index = strategyIndex[strategy];\\n\\t\\taddress lastStrategy = activeStrategies[activeStrategies.length - 1];\\n\\t\\tactiveStrategies[index] = lastStrategy;\\n\\t\\tstrategyIndex[lastStrategy] = index;\\n\\t\\tactiveStrategies.pop();\\n\\n\\t\\t// Clean up\\n\\t\\tdelete strategyIndex[strategy];\\n\\t}\\n\\n\\t/**\\n\\t * @notice Checks if upkeep is needed based on TSL conditions.COMPUTED OFF-CHAIN\\n\\t * @dev Part of the Chainlink automation interface.\\n\\t * @param 'checkData' Not used in this implementation.\\n\\t * @return upkeepNeeded Boolean flag indicating if upkeep is needed.\\n\\t * @return performData Encoded data on what action to perform during upkeep.\\n\\t */\\n\\tfunction checkUpkeep(\\n\\t\\tbytes calldata /*checkData*/\\n\\t) external view returns (bool upkeepNeeded, bytes memory performData) {\\n\\t\\tfor (uint256 i = 0; i < activeStrategies.length; i++) {\\n\\t\\t\\t(bool sell, bool update, uint256 newThreshold) = ITrailMix(\\n\\t\\t\\t\\tactiveStrategies[i]\\n\\t\\t\\t).checkUpkeepNeeded();\\n\\n\\t\\t\\tif (sell) {\\n\\t\\t\\t\\t// Prioritize swap action if needed\\n\\t\\t\\t\\tperformData = abi.encode(\\n\\t\\t\\t\\t\\tactiveStrategies[i],\\n\\t\\t\\t\\t\\tsell,\\n\\t\\t\\t\\t\\tupdate,\\n\\t\\t\\t\\t\\tnewThreshold\\n\\t\\t\\t\\t);\\n\\t\\t\\t\\treturn (true, performData);\\n\\t\\t\\t} else if (update) {\\n\\t\\t\\t\\t// If no swap needed, check for threshold update\\n\\t\\t\\t\\t// Note: This approach only encodes action for the first strategy needing an action.\\n\\t\\t\\t\\t// If you want to encode actions for all strategies, you'd need to aggregate the data differently.\\n\\t\\t\\t\\tperformData = abi.encode(\\n\\t\\t\\t\\t\\tactiveStrategies[i],\\n\\t\\t\\t\\t\\tsell,\\n\\t\\t\\t\\t\\tupdate,\\n\\t\\t\\t\\t\\tnewThreshold\\n\\t\\t\\t\\t);\\n\\t\\t\\t\\t// Don't return yet if you want to prioritize sells across all strategies\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tupkeepNeeded = (performData.length > 0);\\n\\t\\t// performData already set within the loop for the first action identified\\n\\t\\treturn (upkeepNeeded, performData);\\n\\t}\\n\\n\\t/**\\n\\t * @notice Performs the upkeep of updating the stop loss threshold or triggering a sell.\\n\\t * @dev Part of the Chainlink automation interface.\\n\\t * @param performData Encoded data indicating the actions to perform.\\n\\t */\\n\\tfunction performUpkeep(bytes calldata performData) external override {\\n\\t\\t// Implement logic to perform TSL (e.g., swap to stablecoin) when conditions are met\\n\\t\\t(\\n\\t\\t\\taddress strategy,\\n\\t\\t\\tbool sell,\\n\\t\\t\\tbool updateThreshold,\\n\\t\\t\\tuint256 newThreshold\\n\\t\\t) = abi.decode(performData, (address, bool, bool, uint256));\\n\\t\\tif (sell) {\\n\\t\\t\\t//call trigger function to sell on uniswap\\n\\t\\t\\tuint256 s_erc20Balance = ITrailMix(strategy).getERC20Balance();\\n\\t\\t\\tITrailMix(strategy).swapOnUniswap(s_erc20Balance);\\n\\t\\t\\t//deactivate TSL\\n\\t\\t\\tremoveStrategy(strategy);\\n\\n\\t\\t\\t//emit swap event\\n\\t\\t\\temit SwapExecuted(\\n\\t\\t\\t\\tstrategy,\\n\\t\\t\\t\\tITrailMix(strategy).getCreator(),\\n\\t\\t\\t\\ts_erc20Balance,\\n\\t\\t\\t\\tITrailMix(strategy).getStablecoinBalance(),\\n\\t\\t\\t\\tITrailMix(strategy).getERC20TokenAddress(),\\n\\t\\t\\t\\tITrailMix(strategy).getStablecoinAddress(),\\n\\t\\t\\t\\tblock.timestamp\\n\\t\\t\\t);\\n\\t\\t} else if (updateThreshold) {\\n\\t\\t\\t//call updateThreshold function to update the threshold\\n\\t\\t\\tITrailMix(strategy).updateTSLThreshold(newThreshold);\\n\\t\\t\\t//emit event for threshold update\\n\\t\\t\\temit ThresholdUpdated(\\n\\t\\t\\t\\tstrategy,\\n\\t\\t\\t\\tITrailMix(strategy).getTSLThreshold(),\\n\\t\\t\\t\\tnewThreshold,\\n\\t\\t\\t\\tblock.timestamp\\n\\t\\t\\t);\\n\\t\\t}\\n\\t}\\n\\n\\t// Function to get all contracts deployed by a user\\n\\tfunction getUserContracts(\\n\\t\\taddress user\\n\\t) public view returns (address[] memory) {\\n\\t\\treturn userContracts[user];\\n\\t}\\n}\\n\",\"keccak256\":\"0x736e52ee87d18f131da1d30c90edd5231627720d2caa2cd31f371b65e21113b5\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b5060016000556125be806100256000396000f3fe60806040523480156200001157600080fd5b50600436106200009f5760003560e01c806351cff8d9116200006e57806351cff8d9146200011a5780636e04ff0d1462000131578063b20b24291462000158578063b789003d1462000188578063d2581503146200019f57600080fd5b80630efe6a8b14620000a457806334c925f014620000bd578063442717b214620000ec5780634585e33b1462000103575b600080fd5b620000bb620000b536600462001084565b620001d6565b005b620000d4620000ce366004620010bc565b620004f4565b604051620000e39190620010e3565b60405180910390f35b620000bb620000fd36600462001132565b6200056c565b620000bb62000114366004620011dd565b620006fd565b620000bb6200012b366004620010bc565b62000b0e565b6200014862000142366004620011dd565b62000c1d565b604051620000e392919062001254565b6200016f62000169366004620012ae565b62000de0565b6040516001600160a01b039091168152602001620000e3565b6200016f62000199366004620012c8565b62000e0b565b620001c5620001b0366004620010bc565b60036020526000908152604090205460ff1681565b6040519015158152602001620000e3565b336001600160a01b0316836001600160a01b0316630ee2cb106040518163ffffffff1660e01b8152600401602060405180830381865afa1580156200021f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620002459190620012f7565b6001600160a01b0316146200026d5760405163bfcafd3760e01b815260040160405180910390fd5b6000836001600160a01b031663624aa0fd6040518163ffffffff1660e01b8152600401602060405180830381865afa158015620002ae573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620002d49190620012f7565b6040516323b872dd60e01b8152336004820152306024820152604481018590529091506001600160a01b038216906323b872dd906064016020604051808303816000875af11580156200032b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000351919062001326565b5060405163095ea7b360e01b81526001600160a01b0385811660048301526024820185905282169063095ea7b3906044016020604051808303816000875af1158015620003a2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620003c8919062001326565b50604051631c57762b60e31b815260048101849052602481018390526001600160a01b0385169063e2bbb15890604401600060405180830381600087803b1580156200041357600080fd5b505af115801562000428573d6000803e3d6000fd5b50505050836001600160a01b0316336001600160a01b03167f9d71c7fbe64e7a5353edf28b4529ed9c37fa5fd4727032b903a61e5a02696e9485876001600160a01b031663624aa0fd6040518163ffffffff1660e01b8152600401602060405180830381865afa158015620004a1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620004c79190620012f7565b604080519283526001600160a01b039091166020830152429082015260600160405180910390a350505050565b6001600160a01b0381166000908152600460209081526040918290208054835181840281018401909452808452606093928301828280156200056057602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831162000541575b50505050509050919050565b600030338a8a8a8a8a8a8a8a604051620005869062001060565b6001600160a01b039a8b168152988a1660208a015296891660408901529488166060880152928716608087015290861660a086015290941660c084015260e083019390935261010082019290925262ffffff90911661012082015261014001604051809103906000f08015801562000602573d6000803e3d6000fd5b503360009081526004602090815260408083208054600181810183559185528385200180546001600160a01b0387166001600160a01b03199182168117909255825480840184557fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60180549091168217905584526003909252909120805460ff191682179055805491925062000698916200135c565b6001600160a01b038216600081815260026020908152604091829020939093558051918252429282019290925233917fac4ce915ef22753b636e57aac5ae5fdd9d13d782ae5bf6dbcda15e29f95386c1910160405180910390a2505050505050505050565b6000808080620007108587018762001378565b93509350935093508215620009f4576000846001600160a01b031663c3736fe66040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000760573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620007869190620013d0565b6040516353e6ce7760e11b8152600481018290529091506001600160a01b0386169063a7cd9cee90602401600060405180830381600087803b158015620007cc57600080fd5b505af1158015620007e1573d6000803e3d6000fd5b50505050620007f08562000e44565b846001600160a01b0316630ee2cb106040518163ffffffff1660e01b8152600401602060405180830381865afa1580156200082f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620008559190620012f7565b6001600160a01b0316856001600160a01b03167ffe45b5432fda489a54f62aee430bcf72a5639b3174a0528dc94572338079642683886001600160a01b03166368e6ea756040518163ffffffff1660e01b8152600401602060405180830381865afa158015620008c9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620008ef9190620013d0565b896001600160a01b031663624aa0fd6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156200092e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620009549190620012f7565b8a6001600160a01b0316637bef4f546040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000993573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620009b99190620012f7565b6040805194855260208501939093526001600160a01b0391821684840152166060830152426080830152519081900360a00190a35062000b06565b811562000b0657604051632539276f60e21b8152600481018290526001600160a01b038516906394e49dbc90602401600060405180830381600087803b15801562000a3e57600080fd5b505af115801562000a53573d6000803e3d6000fd5b50505050836001600160a01b03167f0bd3cc1c5d7fe612c55d1f11d85563be2fbfe6b40cb0d0361e60b07b996fbeda856001600160a01b031663f9a19e546040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000ac1573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000ae79190620013d0565b6040805191825260208201859052429082015260600160405180910390a25b505050505050565b62000b1862001005565b336001600160a01b0316816001600160a01b0316630ee2cb106040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000b61573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000b879190620012f7565b6001600160a01b03161462000baf5760405163bfcafd3760e01b815260040160405180910390fd5b806001600160a01b0316633ccfd60b6040518163ffffffff1660e01b8152600401600060405180830381600087803b15801562000beb57600080fd5b505af115801562000c00573d6000803e3d6000fd5b5050505062000c0f8162000e44565b62000c1a6001600055565b50565b6000606060005b60015481101562000dd05760008060006001848154811062000c4a5762000c4a620013ea565b9060005260206000200160009054906101000a90046001600160a01b03166001600160a01b031663f0b946846040518163ffffffff1660e01b8152600401606060405180830381865afa15801562000ca6573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000ccc919062001400565b925092509250821562000d49576001848154811062000cef5762000cef620013ea565b60009182526020918290200154604080516001600160a01b03909216928201929092529315158482015291151560608401526080808401919091528151808403909101815260a0909201905260019350915062000dd99050565b811562000db7576001848154811062000d665762000d66620013ea565b60009182526020918290200154604080516001600160a01b03909216928201929092528415159181019190915282151560608201526080810182905260a00160405160208183030381529060405294505b505050808062000dc79062001448565b91505062000c24565b50600081511191505b9250929050565b6001818154811062000df157600080fd5b6000918252602090912001546001600160a01b0316905081565b6004602052816000526040600020818154811062000e2857600080fd5b6000918252602090912001546001600160a01b03169150829050565b6001600160a01b03811662000e925760405162461bcd60e51b815260206004820152600f60248201526e496e76616c6964206164647265737360881b60448201526064015b60405180910390fd5b6001600160a01b03811660009081526003602052604090205460ff1662000ef25760405162461bcd60e51b81526020600482015260136024820152725374726174656779206e6f742061637469766560681b604482015260640162000e89565b6001600160a01b0381166000908152600360209081526040808320805460ff1916905560029091528120546001805491929162000f319082906200135c565b8154811062000f445762000f44620013ea565b600091825260209091200154600180546001600160a01b03909216925082918490811062000f765762000f76620013ea565b600091825260208083209190910180546001600160a01b0319166001600160a01b039485161790559183168152600290915260409020829055600180548062000fc35762000fc362001464565b60008281526020808220830160001990810180546001600160a01b03191690559092019092556001600160a01b03949094168152600290935250506040812055565b600260005403620010595760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015260640162000e89565b6002600055565b61110e806200147b83390190565b6001600160a01b038116811462000c1a57600080fd5b6000806000606084860312156200109a57600080fd5b8335620010a7816200106e565b95602085013595506040909401359392505050565b600060208284031215620010cf57600080fd5b8135620010dc816200106e565b9392505050565b6020808252825182820181905260009190848201906040850190845b81811015620011265783516001600160a01b031683529284019291840191600101620010ff565b50909695505050505050565b600080600080600080600080610100898b0312156200115057600080fd5b88356200115d816200106e565b975060208901356200116f816200106e565b9650604089013562001181816200106e565b9550606089013562001193816200106e565b94506080890135620011a5816200106e565b935060a0890135925060c0890135915060e089013562ffffff81168114620011cc57600080fd5b809150509295985092959890939650565b60008060208385031215620011f157600080fd5b823567ffffffffffffffff808211156200120a57600080fd5b818501915085601f8301126200121f57600080fd5b8135818111156200122f57600080fd5b8660208285010111156200124257600080fd5b60209290920196919550909350505050565b821515815260006020604081840152835180604085015260005b818110156200128c578581018301518582016060015282016200126e565b506000606082860101526060601f19601f830116850101925050509392505050565b600060208284031215620012c157600080fd5b5035919050565b60008060408385031215620012dc57600080fd5b8235620012e9816200106e565b946020939093013593505050565b6000602082840312156200130a57600080fd5b8151620010dc816200106e565b801515811462000c1a57600080fd5b6000602082840312156200133957600080fd5b8151620010dc8162001317565b634e487b7160e01b600052601160045260246000fd5b8181038181111562001372576200137262001346565b92915050565b600080600080608085870312156200138f57600080fd5b84356200139c816200106e565b93506020850135620013ae8162001317565b92506040850135620013c08162001317565b9396929550929360600135925050565b600060208284031215620013e357600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6000806000606084860312156200141657600080fd5b8351620014238162001317565b6020850151909350620014368162001317565b80925050604084015190509250925092565b6000600182016200145d576200145d62001346565b5060010190565b634e487b7160e01b600052603160045260246000fdfe6101006040523480156200001257600080fd5b506040516200110e3803806200110e8339810160408190526200003591620000ed565b600160008190556001600160a01b039a8b16608052988a1660a0528854978a166001600160a01b03199889161790985560028054968a169688169690961790955560038054948916948716949094179093556004805491881691909516179093559190931660c0526009805460e09290925260089390935562ffffff909116620100000264ffffffffff1990911617610100179055620001b5565b80516001600160a01b0381168114620000e857600080fd5b919050565b6000806000806000806000806000806101408b8d0312156200010e57600080fd5b620001198b620000d0565b99506200012960208c01620000d0565b98506200013960408c01620000d0565b97506200014960608c01620000d0565b96506200015960808c01620000d0565b95506200016960a08c01620000d0565b94506200017960c08c01620000d0565b935060e08b015192506101008b015191506101208b015162ffffff81168114620001a257600080fd5b809150509295989b9194979a5092959850565b60805160a05160c05160e051610ec46200024a600039600081816102640152818161090f01528181610a230152610ac701526000818161018001528181610213015281816104af015261098f01526000818161013e0152818161039e01526103ff01526000818161029b015281816103120152818161043c01528181610537015281816107cb01526108430152610ec46000f3fe608060405234801561001057600080fd5b50600436106101375760003560e01c80639a31c009116100b8578063d39ac0cb1161007c578063d39ac0cb14610288578063d500958414610299578063e2bbb158146102bf578063eee2bfa0146102d2578063f0b94684146102da578063f9a19e54146102ff57600080fd5b80639a31c009146102375780639f82e5411461023f578063a7cd9cee14610247578063c3736fe61461025a578063c612a8081461026257600080fd5b8063666468d5116100ff578063666468d5146101cf57806368e6ea75146101e55780637bef4f54146101ed57806394e49dbc146101fe578063983733f01461021157600080fd5b80630ee2cb101461013c5780631966b6081461017b5780633ccfd60b146101a25780634096c91c146101ac578063624aa0fd146101be575b600080fd5b7f00000000000000000000000000000000000000000000000000000000000000005b6040516001600160a01b0390911681526020015b60405180910390f35b61015e7f000000000000000000000000000000000000000000000000000000000000000081565b6101aa610307565b005b6008545b604051908152602001610172565b6001546001600160a01b031661015e565b60095460ff166040519015158152602001610172565b6007546101b0565b6002546001600160a01b031661015e565b6101aa61020c366004610c6f565b610431565b7f000000000000000000000000000000000000000000000000000000000000000061015e565b6101b061047e565b6101aa61052c565b6101aa610255366004610c6f565b610581565b6006546101b0565b7f00000000000000000000000000000000000000000000000000000000000000006101b0565b6003546001600160a01b031661015e565b7f000000000000000000000000000000000000000000000000000000000000000061015e565b6101aa6102cd366004610c88565b6107c0565b6101b061095e565b6102e26109c7565b604080519315158452911515602084015290820152606001610172565b6005546101b0565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146103585760405162461bcd60e51b815260040161034f90610caa565b60405180910390fd5b60095460009060ff166103c65750600754806103875760405163162908e360e11b815260040160405180910390fd5b60006007556002546103c3906001600160a01b03167f000000000000000000000000000000000000000000000000000000000000000083610b16565b50565b50600654806103e85760405163162908e360e11b815260040160405180910390fd5b6000600655600154610424906001600160a01b03167f000000000000000000000000000000000000000000000000000000000000000083610b16565b6009805460ff1916905550565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104795760405162461bcd60e51b815260040161034f90610caa565b600555565b600480546001546040516317f271b760e31b815260009384936001600160a01b039081169363bf938db8936104e5937f00000000000000000000000000000000000000000000000000000000000000009390921691670de0b6b3a764000091889101610ceb565b602060405180830381865afa158015610502573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105269190610d2b565b92915050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146105745760405162461bcd60e51b815260040161034f90610caa565b6009805461ff0019169055565b610589610c16565b600061059361047e565b600954909150600090610100900460ff16156105d3576103e86105b68385610d5a565b6105c2906103e3610d5a565b6105cc9190610d71565b90506105d7565b5060005b60015460035460405163095ea7b360e01b81526001600160a01b0391821660048201526024810186905291169063095ea7b3906044016020604051808303816000875af115801561062c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106509190610d93565b5082600660008282546106639190610dbc565b909155505060408051610100810182526001546001600160a01b0390811682526002548116602083015260095462010000900462ffffff168284015230606083015242608083015260a0820186905260c08201849052600060e0830152600354925163414bf38960e01b81529192169063414bf389906106e7908490600401610dcf565b6020604051808303816000875af1158015610706573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061072a9190610d2b565b506002546040516370a0823160e01b81523060048201526000916001600160a01b0316906370a0823190602401602060405180830381865afa158015610774573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107989190610d2b565b905080600760008282546107ac9190610e4c565b90915550506001600055506103c392505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146108085760405162461bcd60e51b815260040161034f90610caa565b600082116108295760405163162908e360e11b815260040160405180910390fd5b6001546040516323b872dd60e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000811660048301523060248301526044820185905260009216906323b872dd906064016020604051808303816000875af11580156108a3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108c79190610d93565b9050806108e7576040516312171d8360e31b815260040160405180910390fd5b82600660008282546108f99190610e4c565b909155505060095460ff166109595760646109347f000000000000000000000000000000000000000000000000000000000000000082610dbc565b61093e9084610d5a565b6109489190610d71565b6005556009805460ff191660011790555b505050565b600480546001546040516317f271b760e31b815260009384936001600160a01b039081169363bf938db8936104e5937f00000000000000000000000000000000000000000000000000000000000000009390921691670de0b6b3a76400009161012c9101610ceb565b6000806000806109d561095e565b905060006109e161047e565b9050600080808060646109f587605a610d5a565b6109ff9190610d71565b905060006064610a1088606e610d5a565b610a1a9190610d71565b90506000610a497f00000000000000000000000000000000000000000000000000000000000000006064610dbc565b600554610a57906064610d5a565b610a619190610d71565b9050600060646008546064610a769190610e4c565b610a809084610d5a565b610a8a9190610d71565b9050838810158015610a9c5750828811155b15610b0357600554891015610ab45760019650610b03565b80891115610b0357600195506064610aec7f000000000000000000000000000000000000000000000000000000000000000082610dbc565b610af6908b610d5a565b610b009190610d71565b94505b50949a9399509197509195505050505050565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b1790529151600092839290871691610b729190610e5f565b6000604051808303816000865af19150503d8060008114610baf576040519150601f19603f3d011682016040523d82523d6000602084013e610bb4565b606091505b5091509150818015610bde575080511580610bde575080806020019051810190610bde9190610d93565b610c0f5760405162461bcd60e51b815260206004820152600260248201526114d560f21b604482015260640161034f565b5050505050565b600260005403610c685760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015260640161034f565b6002600055565b600060208284031215610c8157600080fd5b5035919050565b60008060408385031215610c9b57600080fd5b50508035926020909101359150565b60208082526021908201527f6f6e6c792063616c6c61626c65206279206d616e6167657220636f6e747261636040820152601d60fa1b606082015260800190565b6001600160a01b0394851681529290931660208301526fffffffffffffffffffffffffffffffff16604082015263ffffffff909116606082015260800190565b600060208284031215610d3d57600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b808202811582820484141761052657610526610d44565b600082610d8e57634e487b7160e01b600052601260045260246000fd5b500490565b600060208284031215610da557600080fd5b81518015158114610db557600080fd5b9392505050565b8181038181111561052657610526610d44565b60006101008201905060018060a01b0380845116835280602085015116602084015262ffffff6040850151166040840152806060850151166060840152506080830151608083015260a083015160a083015260c083015160c083015260e0830151610e4560e08401826001600160a01b03169052565b5092915050565b8082018082111561052657610526610d44565b6000825160005b81811015610e805760208186018101518583015201610e66565b50600092019182525091905056fea2646970667358221220c5ecc4292ff6f3121c7b0b65bcfdc7774aaa266a61c7e60e110ef9f4cbe8cda864736f6c63430008140033a2646970667358221220a255e3f1424f53278fa15f88da3f1e02e1dc936efbb6660978b233758b83341464736f6c63430008140033",
  "deployedBytecode": "0x60806040523480156200001157600080fd5b50600436106200009f5760003560e01c806351cff8d9116200006e57806351cff8d9146200011a5780636e04ff0d1462000131578063b20b24291462000158578063b789003d1462000188578063d2581503146200019f57600080fd5b80630efe6a8b14620000a457806334c925f014620000bd578063442717b214620000ec5780634585e33b1462000103575b600080fd5b620000bb620000b536600462001084565b620001d6565b005b620000d4620000ce366004620010bc565b620004f4565b604051620000e39190620010e3565b60405180910390f35b620000bb620000fd36600462001132565b6200056c565b620000bb62000114366004620011dd565b620006fd565b620000bb6200012b366004620010bc565b62000b0e565b6200014862000142366004620011dd565b62000c1d565b604051620000e392919062001254565b6200016f62000169366004620012ae565b62000de0565b6040516001600160a01b039091168152602001620000e3565b6200016f62000199366004620012c8565b62000e0b565b620001c5620001b0366004620010bc565b60036020526000908152604090205460ff1681565b6040519015158152602001620000e3565b336001600160a01b0316836001600160a01b0316630ee2cb106040518163ffffffff1660e01b8152600401602060405180830381865afa1580156200021f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620002459190620012f7565b6001600160a01b0316146200026d5760405163bfcafd3760e01b815260040160405180910390fd5b6000836001600160a01b031663624aa0fd6040518163ffffffff1660e01b8152600401602060405180830381865afa158015620002ae573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620002d49190620012f7565b6040516323b872dd60e01b8152336004820152306024820152604481018590529091506001600160a01b038216906323b872dd906064016020604051808303816000875af11580156200032b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000351919062001326565b5060405163095ea7b360e01b81526001600160a01b0385811660048301526024820185905282169063095ea7b3906044016020604051808303816000875af1158015620003a2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620003c8919062001326565b50604051631c57762b60e31b815260048101849052602481018390526001600160a01b0385169063e2bbb15890604401600060405180830381600087803b1580156200041357600080fd5b505af115801562000428573d6000803e3d6000fd5b50505050836001600160a01b0316336001600160a01b03167f9d71c7fbe64e7a5353edf28b4529ed9c37fa5fd4727032b903a61e5a02696e9485876001600160a01b031663624aa0fd6040518163ffffffff1660e01b8152600401602060405180830381865afa158015620004a1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620004c79190620012f7565b604080519283526001600160a01b039091166020830152429082015260600160405180910390a350505050565b6001600160a01b0381166000908152600460209081526040918290208054835181840281018401909452808452606093928301828280156200056057602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831162000541575b50505050509050919050565b600030338a8a8a8a8a8a8a8a604051620005869062001060565b6001600160a01b039a8b168152988a1660208a015296891660408901529488166060880152928716608087015290861660a086015290941660c084015260e083019390935261010082019290925262ffffff90911661012082015261014001604051809103906000f08015801562000602573d6000803e3d6000fd5b503360009081526004602090815260408083208054600181810183559185528385200180546001600160a01b0387166001600160a01b03199182168117909255825480840184557fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60180549091168217905584526003909252909120805460ff191682179055805491925062000698916200135c565b6001600160a01b038216600081815260026020908152604091829020939093558051918252429282019290925233917fac4ce915ef22753b636e57aac5ae5fdd9d13d782ae5bf6dbcda15e29f95386c1910160405180910390a2505050505050505050565b6000808080620007108587018762001378565b93509350935093508215620009f4576000846001600160a01b031663c3736fe66040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000760573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620007869190620013d0565b6040516353e6ce7760e11b8152600481018290529091506001600160a01b0386169063a7cd9cee90602401600060405180830381600087803b158015620007cc57600080fd5b505af1158015620007e1573d6000803e3d6000fd5b50505050620007f08562000e44565b846001600160a01b0316630ee2cb106040518163ffffffff1660e01b8152600401602060405180830381865afa1580156200082f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620008559190620012f7565b6001600160a01b0316856001600160a01b03167ffe45b5432fda489a54f62aee430bcf72a5639b3174a0528dc94572338079642683886001600160a01b03166368e6ea756040518163ffffffff1660e01b8152600401602060405180830381865afa158015620008c9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620008ef9190620013d0565b896001600160a01b031663624aa0fd6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156200092e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620009549190620012f7565b8a6001600160a01b0316637bef4f546040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000993573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620009b99190620012f7565b6040805194855260208501939093526001600160a01b0391821684840152166060830152426080830152519081900360a00190a35062000b06565b811562000b0657604051632539276f60e21b8152600481018290526001600160a01b038516906394e49dbc90602401600060405180830381600087803b15801562000a3e57600080fd5b505af115801562000a53573d6000803e3d6000fd5b50505050836001600160a01b03167f0bd3cc1c5d7fe612c55d1f11d85563be2fbfe6b40cb0d0361e60b07b996fbeda856001600160a01b031663f9a19e546040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000ac1573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000ae79190620013d0565b6040805191825260208201859052429082015260600160405180910390a25b505050505050565b62000b1862001005565b336001600160a01b0316816001600160a01b0316630ee2cb106040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000b61573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000b879190620012f7565b6001600160a01b03161462000baf5760405163bfcafd3760e01b815260040160405180910390fd5b806001600160a01b0316633ccfd60b6040518163ffffffff1660e01b8152600401600060405180830381600087803b15801562000beb57600080fd5b505af115801562000c00573d6000803e3d6000fd5b5050505062000c0f8162000e44565b62000c1a6001600055565b50565b6000606060005b60015481101562000dd05760008060006001848154811062000c4a5762000c4a620013ea565b9060005260206000200160009054906101000a90046001600160a01b03166001600160a01b031663f0b946846040518163ffffffff1660e01b8152600401606060405180830381865afa15801562000ca6573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000ccc919062001400565b925092509250821562000d49576001848154811062000cef5762000cef620013ea565b60009182526020918290200154604080516001600160a01b03909216928201929092529315158482015291151560608401526080808401919091528151808403909101815260a0909201905260019350915062000dd99050565b811562000db7576001848154811062000d665762000d66620013ea565b60009182526020918290200154604080516001600160a01b03909216928201929092528415159181019190915282151560608201526080810182905260a00160405160208183030381529060405294505b505050808062000dc79062001448565b91505062000c24565b50600081511191505b9250929050565b6001818154811062000df157600080fd5b6000918252602090912001546001600160a01b0316905081565b6004602052816000526040600020818154811062000e2857600080fd5b6000918252602090912001546001600160a01b03169150829050565b6001600160a01b03811662000e925760405162461bcd60e51b815260206004820152600f60248201526e496e76616c6964206164647265737360881b60448201526064015b60405180910390fd5b6001600160a01b03811660009081526003602052604090205460ff1662000ef25760405162461bcd60e51b81526020600482015260136024820152725374726174656779206e6f742061637469766560681b604482015260640162000e89565b6001600160a01b0381166000908152600360209081526040808320805460ff1916905560029091528120546001805491929162000f319082906200135c565b8154811062000f445762000f44620013ea565b600091825260209091200154600180546001600160a01b03909216925082918490811062000f765762000f76620013ea565b600091825260208083209190910180546001600160a01b0319166001600160a01b039485161790559183168152600290915260409020829055600180548062000fc35762000fc362001464565b60008281526020808220830160001990810180546001600160a01b03191690559092019092556001600160a01b03949094168152600290935250506040812055565b600260005403620010595760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015260640162000e89565b6002600055565b61110e806200147b83390190565b6001600160a01b038116811462000c1a57600080fd5b6000806000606084860312156200109a57600080fd5b8335620010a7816200106e565b95602085013595506040909401359392505050565b600060208284031215620010cf57600080fd5b8135620010dc816200106e565b9392505050565b6020808252825182820181905260009190848201906040850190845b81811015620011265783516001600160a01b031683529284019291840191600101620010ff565b50909695505050505050565b600080600080600080600080610100898b0312156200115057600080fd5b88356200115d816200106e565b975060208901356200116f816200106e565b9650604089013562001181816200106e565b9550606089013562001193816200106e565b94506080890135620011a5816200106e565b935060a0890135925060c0890135915060e089013562ffffff81168114620011cc57600080fd5b809150509295985092959890939650565b60008060208385031215620011f157600080fd5b823567ffffffffffffffff808211156200120a57600080fd5b818501915085601f8301126200121f57600080fd5b8135818111156200122f57600080fd5b8660208285010111156200124257600080fd5b60209290920196919550909350505050565b821515815260006020604081840152835180604085015260005b818110156200128c578581018301518582016060015282016200126e565b506000606082860101526060601f19601f830116850101925050509392505050565b600060208284031215620012c157600080fd5b5035919050565b60008060408385031215620012dc57600080fd5b8235620012e9816200106e565b946020939093013593505050565b6000602082840312156200130a57600080fd5b8151620010dc816200106e565b801515811462000c1a57600080fd5b6000602082840312156200133957600080fd5b8151620010dc8162001317565b634e487b7160e01b600052601160045260246000fd5b8181038181111562001372576200137262001346565b92915050565b600080600080608085870312156200138f57600080fd5b84356200139c816200106e565b93506020850135620013ae8162001317565b92506040850135620013c08162001317565b9396929550929360600135925050565b600060208284031215620013e357600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6000806000606084860312156200141657600080fd5b8351620014238162001317565b6020850151909350620014368162001317565b80925050604084015190509250925092565b6000600182016200145d576200145d62001346565b5060010190565b634e487b7160e01b600052603160045260246000fdfe6101006040523480156200001257600080fd5b506040516200110e3803806200110e8339810160408190526200003591620000ed565b600160008190556001600160a01b039a8b16608052988a1660a0528854978a166001600160a01b03199889161790985560028054968a169688169690961790955560038054948916948716949094179093556004805491881691909516179093559190931660c0526009805460e09290925260089390935562ffffff909116620100000264ffffffffff1990911617610100179055620001b5565b80516001600160a01b0381168114620000e857600080fd5b919050565b6000806000806000806000806000806101408b8d0312156200010e57600080fd5b620001198b620000d0565b99506200012960208c01620000d0565b98506200013960408c01620000d0565b97506200014960608c01620000d0565b96506200015960808c01620000d0565b95506200016960a08c01620000d0565b94506200017960c08c01620000d0565b935060e08b015192506101008b015191506101208b015162ffffff81168114620001a257600080fd5b809150509295989b9194979a5092959850565b60805160a05160c05160e051610ec46200024a600039600081816102640152818161090f01528181610a230152610ac701526000818161018001528181610213015281816104af015261098f01526000818161013e0152818161039e01526103ff01526000818161029b015281816103120152818161043c01528181610537015281816107cb01526108430152610ec46000f3fe608060405234801561001057600080fd5b50600436106101375760003560e01c80639a31c009116100b8578063d39ac0cb1161007c578063d39ac0cb14610288578063d500958414610299578063e2bbb158146102bf578063eee2bfa0146102d2578063f0b94684146102da578063f9a19e54146102ff57600080fd5b80639a31c009146102375780639f82e5411461023f578063a7cd9cee14610247578063c3736fe61461025a578063c612a8081461026257600080fd5b8063666468d5116100ff578063666468d5146101cf57806368e6ea75146101e55780637bef4f54146101ed57806394e49dbc146101fe578063983733f01461021157600080fd5b80630ee2cb101461013c5780631966b6081461017b5780633ccfd60b146101a25780634096c91c146101ac578063624aa0fd146101be575b600080fd5b7f00000000000000000000000000000000000000000000000000000000000000005b6040516001600160a01b0390911681526020015b60405180910390f35b61015e7f000000000000000000000000000000000000000000000000000000000000000081565b6101aa610307565b005b6008545b604051908152602001610172565b6001546001600160a01b031661015e565b60095460ff166040519015158152602001610172565b6007546101b0565b6002546001600160a01b031661015e565b6101aa61020c366004610c6f565b610431565b7f000000000000000000000000000000000000000000000000000000000000000061015e565b6101b061047e565b6101aa61052c565b6101aa610255366004610c6f565b610581565b6006546101b0565b7f00000000000000000000000000000000000000000000000000000000000000006101b0565b6003546001600160a01b031661015e565b7f000000000000000000000000000000000000000000000000000000000000000061015e565b6101aa6102cd366004610c88565b6107c0565b6101b061095e565b6102e26109c7565b604080519315158452911515602084015290820152606001610172565b6005546101b0565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146103585760405162461bcd60e51b815260040161034f90610caa565b60405180910390fd5b60095460009060ff166103c65750600754806103875760405163162908e360e11b815260040160405180910390fd5b60006007556002546103c3906001600160a01b03167f000000000000000000000000000000000000000000000000000000000000000083610b16565b50565b50600654806103e85760405163162908e360e11b815260040160405180910390fd5b6000600655600154610424906001600160a01b03167f000000000000000000000000000000000000000000000000000000000000000083610b16565b6009805460ff1916905550565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104795760405162461bcd60e51b815260040161034f90610caa565b600555565b600480546001546040516317f271b760e31b815260009384936001600160a01b039081169363bf938db8936104e5937f00000000000000000000000000000000000000000000000000000000000000009390921691670de0b6b3a764000091889101610ceb565b602060405180830381865afa158015610502573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105269190610d2b565b92915050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146105745760405162461bcd60e51b815260040161034f90610caa565b6009805461ff0019169055565b610589610c16565b600061059361047e565b600954909150600090610100900460ff16156105d3576103e86105b68385610d5a565b6105c2906103e3610d5a565b6105cc9190610d71565b90506105d7565b5060005b60015460035460405163095ea7b360e01b81526001600160a01b0391821660048201526024810186905291169063095ea7b3906044016020604051808303816000875af115801561062c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106509190610d93565b5082600660008282546106639190610dbc565b909155505060408051610100810182526001546001600160a01b0390811682526002548116602083015260095462010000900462ffffff168284015230606083015242608083015260a0820186905260c08201849052600060e0830152600354925163414bf38960e01b81529192169063414bf389906106e7908490600401610dcf565b6020604051808303816000875af1158015610706573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061072a9190610d2b565b506002546040516370a0823160e01b81523060048201526000916001600160a01b0316906370a0823190602401602060405180830381865afa158015610774573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107989190610d2b565b905080600760008282546107ac9190610e4c565b90915550506001600055506103c392505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146108085760405162461bcd60e51b815260040161034f90610caa565b600082116108295760405163162908e360e11b815260040160405180910390fd5b6001546040516323b872dd60e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000811660048301523060248301526044820185905260009216906323b872dd906064016020604051808303816000875af11580156108a3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108c79190610d93565b9050806108e7576040516312171d8360e31b815260040160405180910390fd5b82600660008282546108f99190610e4c565b909155505060095460ff166109595760646109347f000000000000000000000000000000000000000000000000000000000000000082610dbc565b61093e9084610d5a565b6109489190610d71565b6005556009805460ff191660011790555b505050565b600480546001546040516317f271b760e31b815260009384936001600160a01b039081169363bf938db8936104e5937f00000000000000000000000000000000000000000000000000000000000000009390921691670de0b6b3a76400009161012c9101610ceb565b6000806000806109d561095e565b905060006109e161047e565b9050600080808060646109f587605a610d5a565b6109ff9190610d71565b905060006064610a1088606e610d5a565b610a1a9190610d71565b90506000610a497f00000000000000000000000000000000000000000000000000000000000000006064610dbc565b600554610a57906064610d5a565b610a619190610d71565b9050600060646008546064610a769190610e4c565b610a809084610d5a565b610a8a9190610d71565b9050838810158015610a9c5750828811155b15610b0357600554891015610ab45760019650610b03565b80891115610b0357600195506064610aec7f000000000000000000000000000000000000000000000000000000000000000082610dbc565b610af6908b610d5a565b610b009190610d71565b94505b50949a9399509197509195505050505050565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b1790529151600092839290871691610b729190610e5f565b6000604051808303816000865af19150503d8060008114610baf576040519150601f19603f3d011682016040523d82523d6000602084013e610bb4565b606091505b5091509150818015610bde575080511580610bde575080806020019051810190610bde9190610d93565b610c0f5760405162461bcd60e51b815260206004820152600260248201526114d560f21b604482015260640161034f565b5050505050565b600260005403610c685760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015260640161034f565b6002600055565b600060208284031215610c8157600080fd5b5035919050565b60008060408385031215610c9b57600080fd5b50508035926020909101359150565b60208082526021908201527f6f6e6c792063616c6c61626c65206279206d616e6167657220636f6e747261636040820152601d60fa1b606082015260800190565b6001600160a01b0394851681529290931660208301526fffffffffffffffffffffffffffffffff16604082015263ffffffff909116606082015260800190565b600060208284031215610d3d57600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b808202811582820484141761052657610526610d44565b600082610d8e57634e487b7160e01b600052601260045260246000fd5b500490565b600060208284031215610da557600080fd5b81518015158114610db557600080fd5b9392505050565b8181038181111561052657610526610d44565b60006101008201905060018060a01b0380845116835280602085015116602084015262ffffff6040850151166040840152806060850151166060840152506080830151608083015260a083015160a083015260c083015160c083015260e0830151610e4560e08401826001600160a01b03169052565b5092915050565b8082018082111561052657610526610d44565b6000825160005b81811015610e805760208186018101518583015201610e66565b50600092019182525091905056fea2646970667358221220c5ecc4292ff6f3121c7b0b65bcfdc7774aaa266a61c7e60e110ef9f4cbe8cda864736f6c63430008140033a2646970667358221220a255e3f1424f53278fa15f88da3f1e02e1dc936efbb6660978b233758b83341464736f6c63430008140033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "checkUpkeep(bytes)": {
        "details": "Part of the Chainlink automation interface.",
        "params": {
          "": "'checkData' Not used in this implementation."
        },
        "returns": {
          "performData": "Encoded data on what action to perform during upkeep.",
          "upkeepNeeded": "Boolean flag indicating if upkeep is needed."
        }
      },
      "performUpkeep(bytes)": {
        "details": "Part of the Chainlink automation interface.",
        "params": {
          "performData": "Encoded data indicating the actions to perform."
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "checkUpkeep(bytes)": {
        "notice": "Checks if upkeep is needed based on TSL conditions.COMPUTED OFF-CHAIN"
      },
      "performUpkeep(bytes)": {
        "notice": "Performs the upkeep of updating the stop loss threshold or triggering a sell."
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 29,
        "contract": "contracts/TrailMixManager.sol:TrailMixManager",
        "label": "_status",
        "offset": 0,
        "slot": "0",
        "type": "t_uint256"
      },
      {
        "astId": 1227,
        "contract": "contracts/TrailMixManager.sol:TrailMixManager",
        "label": "activeStrategies",
        "offset": 0,
        "slot": "1",
        "type": "t_array(t_address)dyn_storage"
      },
      {
        "astId": 1231,
        "contract": "contracts/TrailMixManager.sol:TrailMixManager",
        "label": "strategyIndex",
        "offset": 0,
        "slot": "2",
        "type": "t_mapping(t_address,t_uint256)"
      },
      {
        "astId": 1235,
        "contract": "contracts/TrailMixManager.sol:TrailMixManager",
        "label": "isActiveStrategy",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_address,t_bool)"
      },
      {
        "astId": 1240,
        "contract": "contracts/TrailMixManager.sol:TrailMixManager",
        "label": "userContracts",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_address,t_array(t_address)dyn_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_address)dyn_storage": {
        "base": "t_address",
        "encoding": "dynamic_array",
        "label": "address[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_mapping(t_address,t_array(t_address)dyn_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => address[])",
        "numberOfBytes": "32",
        "value": "t_array(t_address)dyn_storage"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}